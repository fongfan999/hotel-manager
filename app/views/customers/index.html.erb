<%= title("Customers") %>

<header>
	<h1>Listing Customers</h1>

	<ul class="actions">
		<li><%= link_to "New Customer", new_customer_path, class: "new" %></li>
	</ul>
</header>

<header>
	<div id="receipt-search" class="row">
		<%= simple_form_for :search,
			url: search_customers_path(:search), :method => 'get' do |f| %>
			<div class="col-sm-8">
			  <%= f.input :q, as: :string, label: false, placeholder: "Enter Name, ID Card, Phone, etc.", autofocus: true, 
			  	:input_html => { value: (params[:search].nil?) ? "" : params[:search][:q] } %>
			</div>
			<div class="col-sm-4">
				<%= f.button :submit, value: "Search", class: "btn-default search-btn" %>
			</div>
		<% end %>
	</div>
</header>

<div class="row">
	<div class="col-md-12">
		<div id="spinner" class="spinner" style="display: none;">
			<%= image_tag("spinner.gif", alt: "Loading") %>
		</div>
	</div>
</div>

<div id="customers">
<% if @customers.present? %>
	<div class="listing-index icon-only">
		<table>
			<thead>
				<tr>
					<th>No.</th>
					<th>Name</th>
					<th>Type</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<% @customers.each_with_index do |customer, index| %>
				<tr>
					<td class="padding-top-15"><%= link_to index + 1, customer %></td>
					<td class="padding-top-15"><%= customer.name %></td>
					<td><%= render customer.type %></td>
					<td>
						<%= link_to "", [:edit, customer], class: "edit" %>
						<%= link_to "", customer ,class: "delete",
							method: :delete,
							data: { confirm: "Are you sure to delete this customer?" } %>
					</td>
				</tr>
				<% end %>
			</tbody>
		</table>
	</div>
<% else %>
	<p>There is nothing to show. <%= link_to "New one?", new_customer_path %></p>
<% end %>
</div>

<%= link_to "Back to home", root_path, class: "back" %>